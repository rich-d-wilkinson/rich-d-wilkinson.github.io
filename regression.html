<!DOCTYPE html>
<html lang="en"><head>
<script src="regression_files/libs/clipboard/clipboard.min.js"></script>
<script src="regression_files/libs/quarto-html/tabby.min.js"></script>
<script src="regression_files/libs/quarto-html/popper.min.js"></script>
<script src="regression_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="regression_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="regression_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="regression_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.251">

  <title>Workshop 1 - statistical regression models</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="regression_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="regression_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="regression_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="regression_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="regression_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="regression_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="regression_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="regression_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="regression_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="regression_files/libs/quarto-diagram/mermaid.min.js"></script>
  <script src="regression_files/libs/quarto-diagram/mermaid-init.js"></script>
  <link href="regression_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="damsl_logo_drop_black.png" data-background-opacity="0.5" data-background-position="50% 15%" data-background-size="40%" class="center">
  <h1 class="title">Workshop 1 - statistical regression models</h1>
</section>

<section id="regression-models" class="slide level2">
<h2>Regression models</h2>
<p>Statistical models are used to model outcome <span class="math inline">\(y\)</span> as a function of inputs <span class="math inline">\(x\)</span>.</p>
<ul>
<li><span class="math inline">\(y\)</span> is called the <strong>response</strong></li>
<li><span class="math inline">\(x\)</span> are the <strong>covariates</strong>.</li>
</ul>
<p>We often have several covariates, so <span class="math inline">\(x\)</span> may be a vector of values.</p>
<div class="fragment">
<p>We’ll focus on linear models here:</p>
<div>
<ul>
<li class="fragment">all the key concepts can be illustrated
<ul>
<li class="fragment">model structure</li>
<li class="fragment">model fit</li>
<li class="fragment">model validation</li>
<li class="fragment">implementation in R</li>
</ul></li>
<li class="fragment">easier to understand than generalised linear models (GLMs)</li>
</ul>
</div>
</div>
</section>
<section id="example" class="slide level2 smaller">
<h2>Example</h2>
<ul>
<li><span class="math inline">\(y=\)</span> winning time in a Scottish hill race</li>
<li><span class="math inline">\(x=(\)</span>distance, climb<span class="math inline">\()\)</span> - a vector containing the race distance and the vertical height climbed in the race.</li>
</ul>
<p>Linear models can be used to predict the winning time from the <code>distance</code> and <code>climb</code> variables</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:42%;">
<p>The data are in tidy format:</p>
<ul>
<li class="fragment"><p>one observation per row, variables in columns.</p></li>
<li class="fragment"><p>Enumerate the races using index, <span class="math inline">\(i\)</span></p></li>
<li class="fragment"><p><span class="math inline">\((y_i, x_i)\)</span> are data corresponding to <span class="math inline">\(i^{th}\)</span> race.</p></li>
<li class="fragment"><p><span class="math inline">\(y_1=16.083\)</span> and <span class="math inline">\(x_1=(2.5, 650)\)</span> are the data point corresponding to the Greenmantle race.</p></li>
</ul>
</div><div class="column" style="width:3%;">

</div><div class="column" style="width:55%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">data</span>(hills, <span class="at">package=</span><span class="st">'MASS'</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">head</span>(hills)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">dist</th>
<th style="text-align: right;">climb</th>
<th style="text-align: right;">time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Greenmantle</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">650</td>
<td style="text-align: right;">16.083</td>
</tr>
<tr class="even">
<td style="text-align: left;">Carnethy</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">2500</td>
<td style="text-align: right;">48.350</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Craig Dunain</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">33.650</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ben Rha</td>
<td style="text-align: right;">7.5</td>
<td style="text-align: right;">800</td>
<td style="text-align: right;">45.600</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ben Lomond</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">3070</td>
<td style="text-align: right;">62.267</td>
</tr>
<tr class="even">
<td style="text-align: left;">Goatfell</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">2866</td>
<td style="text-align: right;">73.217</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<!--![](image.jpeg){.absolute top=400 left=200}-->
</div>
</section>
<section id="always-plot-the-data" class="slide level2">
<h2>Always plot the data!</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">pairs</span>(hills)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="regression_files/figure-revealjs/unnamed-chunk-6-1.png" width="960" class="r-stretch"><div class="cell">

</div>
<p>How can we model the relationship between <code>time</code> (the response, <span class="math inline">\(y\)</span>), and <code>distance</code> and <code>climb</code> (the covariates, <span class="math inline">\(x\)</span>)?</p>
</section>
<section id="what-model" class="slide level2">
<h2>What model?</h2>
<p>Let’s first think about the relationship between time and distance.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="regression_files/figure-revealjs/unnamed-chunk-10-1.png" width="960"></p>
</div>
</div>
</div><div class="column" style="width:3%;">

</div><div class="column" style="width:46%;">
<p><strong>Exercise</strong>: What model would you use?</p>
<ul>
<li class="fragment"><p>The longer the race, the longer the time taken.</p></li>
<li class="fragment"><p>Try a linear model of the form <span class="math display">\[\operatorname{time} = a+b\times \operatorname{dist}+e\]</span></p></li>
<li class="fragment"><p><span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> are free parameters that we <strong>need to estimate from data</strong>.</p></li>
<li class="fragment"><p><span class="math inline">\(e\)</span> is an error term, to represent that the data do not lie perfectly on a line.</p></li>
</ul>
</div>
</div>
</section>
<section id="ordinary-least-squares-estimation" class="slide level2">
<h2>Ordinary least squares estimation</h2>
<p>To fit a linear model, we find the parameters <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> that minimize the sum of squared errors</p>
<p><span class="math display">\[\min_{a, b} \sum_{i=1}^n\left(y_i - (a+bx_i)\right)^2 \]</span> <!--$$= \min_{a, b} \sum_{i=1}^n\left(\mathtt{time}_i - (a+b \times \mathtt{climb}_i)\right)^2$$
--></p>
<div class="fragment">
<div class="columns">
<div class="column" data-code-line-numbers="1" style="width:42%;">
<p>Doing this in R is easy:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>model1 <span class="ot">=</span> <span class="fu">lm</span>(time <span class="sc">~</span> dist, <span class="at">data=</span>hills)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">print</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = time ~ dist, data = hills)

Coefficients:
(Intercept)         dist  
     -4.841        8.330  </code></pre>
</div>
</div>
</div><div class="column" style="width:3%;">

</div><div class="column" style="width:55%;">
<ul>
<li class="fragment"><p>The model formula is <span class="math display">\[\operatorname{time} \sim \operatorname{dist}\]</span></p></li>
<li class="fragment"><p>This tells R that</p>
<ul>
<li class="fragment">time is the response</li>
<li class="fragment">dist is the covariate</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="fragment">
<p>This is <strong>ordinary least squares</strong> regression.</p>
</div>
</section>
<section id="fitted-model" class="slide level2">
<h2>Fitted model</h2>
<p>The fitted model is <span class="math display">\[\operatorname{time}= -4.841+8.330\times \operatorname{dist}+e\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">attach</span>(hills)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">plot</span>(dist, time)</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="fu">abline</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="regression_files/figure-revealjs/unnamed-chunk-14-1.png" width="960" class="r-stretch"><p>This shows the data and line of best fit.</p>
<div class="cell">

</div>
</section>
<section id="modifying-the-model" class="slide level2">
<h2>Modifying the model</h2>
<p><span class="math display">\[\operatorname{time}= -4.841+8.330\times \operatorname{dist}+e\]</span></p>
<p>Should we include an intercept in this model?</p>
<ul>
<li>If the race is 0 miles, this model predicts a record time of -4.841 minutes.</li>
</ul>
<div class="fragment">
<p>By default, R assumes you want an intercept in the model. To remove it, we have to specify no intercept</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(time <span class="sc">~</span> dist<span class="dv">-1</span>, <span class="at">data=</span>hills)</span>
<span id="cb6-2"><a href="#cb6-2"></a>model2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = time ~ dist - 1, data = hills)

Coefficients:
 dist  
7.908  </code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>The fitted model in this case is</p>
<p><span class="math display">\[\operatorname{time}= 7.908\times \operatorname{dist}+e\]</span></p>
</div>
</section>
<section id="which-model-is-best" class="slide level2">
<h2>Which model is best?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">plot</span>(dist, time)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">abline</span>(model1, <span class="at">col=</span><span class="st">'blue'</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="fu">abline</span>(model2, <span class="at">col=</span><span class="st">'red'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="regression_files/figure-revealjs/unnamed-chunk-20-1.png" width="960" class="r-stretch"></section>
<section id="including-additional-covariates" class="slide level2">
<h2>Including additional covariates</h2>
<p>From our visualization, we know that the winning time also depended upon the amount of climbing in the race</p>
<p><strong>Exercise:</strong></p>
<ul>
<li>Fit the straight line model that predicts time as a function of climb only.</li>
<li>Is this model better or worse than the other model?</li>
</ul>

<img data-src="regression_files/figure-revealjs/unnamed-chunk-22-1.png" width="960" class="r-stretch"></section>
<section id="section" class="slide level2">
<h2></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>model3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(time<span class="sc">~</span>climb, <span class="at">data=</span>hills)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column scroll" style="width:65%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">summary</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = time ~ dist, data = hills)

Residuals:
    Min      1Q  Median      3Q     Max 
-35.745  -9.037  -4.201   2.849  76.170 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -4.8407     5.7562  -0.841    0.406    
dist          8.3305     0.6196  13.446 6.08e-15 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 19.96 on 33 degrees of freedom
Multiple R-squared:  0.8456,    Adjusted R-squared:  0.841 
F-statistic: 180.8 on 1 and 33 DF,  p-value: 6.084e-15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">summary</span>(model3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = time ~ climb, data = hills)

Residuals:
    Min      1Q  Median      3Q     Max 
-36.616 -18.293  -4.215   5.103 127.706 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 12.69917    7.71050   1.647    0.109    
climb        0.02489    0.00319   7.801 5.45e-09 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 30.12 on 33 degrees of freedom
Multiple R-squared:  0.6484,    Adjusted R-squared:  0.6378 
F-statistic: 60.86 on 1 and 33 DF,  p-value: 5.452e-09</code></pre>
</div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<ul>
<li class="fragment"><p>R-squared (<span class="math inline">\(R^2\)</span>) measures how well the model explains the data</p></li>
<li class="fragment"><p>It can be interpretted as <strong>proportion of variance explained</strong> by the model</p></li>
<li class="fragment"><p>Model 1 has <span class="math inline">\(R^2=85\%\)</span>, model 3 has <span class="math inline">\(R^2=65\%\)</span>. <!--- So model 1 explains more of the variance in the data.--></p></li>
<li class="fragment"><p>Caution is needed when interpreting <span class="math inline">\(R^2\)</span></p>
<ul>
<li class="fragment">It doesn’t account for complexity</li>
<li class="fragment">It records data fit, not predictive skill</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="multiple-linear-regression" class="slide level2">
<h2>Multiple linear regression</h2>
<p>Usually we will have more than one covariate.</p>
<p><strong>Exercise:</strong> What model could we use to include climb and dist?</p>
<div class="fragment">
<p>Try a model that is linear in both variables</p>
<p><span class="math display">\[\mathtt{time} = a+b\times \mathtt{dist}+c\times \mathtt{climb}+e\]</span></p>
<p>This has 3 free parameters: <span class="math inline">\(a, b\)</span> and <span class="math inline">\(c\)</span>.</p>
</div>
<div class="fragment">
<p><strong>Exercise:</strong> What command would fit this model in R?</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>model4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(time<span class="sc">~</span>dist<span class="sc">+</span>climb, <span class="at">data=</span>hills)</span>
<span id="cb14-2"><a href="#cb14-2"></a>model4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = time ~ dist + climb, data = hills)

Coefficients:
(Intercept)         dist        climb  
   -8.99204      6.21796      0.01105  </code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><strong>Exercise:</strong> How well does it fit the data?</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">summary</span>(model4)<span class="sc">$</span>r.squared</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9190511</code></pre>
</div>
</div>
</div>
</section>
<section id="visualizing-the-model" class="slide level2">
<h2>Visualizing the model</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">library</span>(visreg)</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">visreg</span>(model4, <span class="at">xvar=</span><span class="st">'climb'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="regression_files/figure-revealjs/unnamed-chunk-32-1.png" width="960" class="r-stretch"><p>This plots the model response as a function of climb, keeping distance fixed.</p>
</section>
<section id="visualizing-the-model-1" class="slide level2">
<h2>Visualizing the model</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">library</span>(visreg)</span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="fu">visreg</span>(model4, <span class="at">xvar=</span><span class="st">'dist'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<!--## Add an example with a factor? Do in logistic regression instead.

model1 <- lm(time ~ dist+I(climb>1000), data=hills)???
-->
<img data-src="regression_files/figure-revealjs/unnamed-chunk-34-1.png" width="960" class="r-stretch"></section>
<section id="prediction" class="slide level2">
<h2>Prediction</h2>
<p>A new race is proposed, which will be 10 miles long, and have a height gain of 2500 feet. What do we think the winning time will be?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">predict</span>(model4, <span class="fu">list</span>(<span class="at">dist=</span><span class="dv">10</span>, <span class="at">climb=</span><span class="dv">2500</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       1 
80.80729 </code></pre>
</div>
</div>
<div class="fragment">
<p>If we want a confidence interval for the prediction</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">predict</span>(model4, <span class="fu">list</span>(<span class="at">dist=</span><span class="dv">10</span>, <span class="at">climb=</span><span class="dv">2500</span>), <span class="at">interval=</span><span class="st">'prediction'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       fit      lwr      upr
1 80.80729 50.39065 111.2239</code></pre>
</div>
</div>
</div>
</section>
<section id="more-complex-models" class="slide level2">
<h2>More complex models</h2>
<p>We can include more terms in the model. The first thing to try is an <strong>interaction</strong> term between <code>dist</code> and <code>climb</code>, i.e. <span class="math display">\[\mathtt{time} = a+b\times \mathtt{dist}+c\times \mathtt{climb}+d\times\mathtt{dist}\times\mathtt{climb}+e\]</span></p>
<p>The R model syntax for this is</p>
<p><span class="math display">\[\mathtt{time} \sim \mathtt{dist}*\mathtt{climb}\]</span> Or more explicitly</p>
<p><span class="math display">\[\mathtt{time} \sim \mathtt{dist}+\mathtt{climb}+\mathtt{dist}:\mathtt{climb}\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>model5 <span class="ot">&lt;-</span> <span class="fu">lm</span>(time<span class="sc">~</span>dist<span class="sc">*</span>climb, <span class="at">data=</span>hills)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="more-complex-models-1" class="slide level2">
<h2>More complex models</h2>
<p>We can also include higher order powers:</p>
<p><span class="math display">\[\mathtt{time} = a+b\times \mathtt{dist}+c\times \mathtt{climb}+d\times\mathtt{dist}^2+e\]</span></p>
<p><span class="math display">\[\mathtt{time} \sim \mathtt{dist}+\mathtt{climb}+I(\mathtt{dist}^2)\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>model6 <span class="ot">&lt;-</span><span class="fu">lm</span>(time<span class="sc">~</span>dist<span class="sc">+</span>climb<span class="sc">+</span><span class="fu">I</span>(dist<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb25-2"><a href="#cb25-2"></a>model6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = time ~ dist + climb + I(dist^2))

Coefficients:
(Intercept)         dist        climb    I(dist^2)  
    2.23803      2.98650      0.01316      0.10731  </code></pre>
</div>
</div>
</section>
<section id="evaluating-model-fit" class="slide level2">
<h2>Evaluating model fit</h2>
<p>We can test how well a model <strong>fits</strong> the data, or how well it <strong>predicts</strong> new data.</p>
<div class="fragment">
<p>We need to select a score, which measures performance, such as</p>
<ul>
<li>mean square error</li>
<li>probability of misclassification (for logistic models)</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">mean</span>((<span class="fu">predict</span>(model5) <span class="sc">-</span> hills<span class="sc">$</span>time)<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 147.9547</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">mean</span>((<span class="fu">predict</span>(model1) <span class="sc">-</span> hills<span class="sc">$</span>time)<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 375.4744</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>It is often useful to compare scores to a reference model, such as the null model which predicts the mean of the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" data-code-line-numbers="|1|2|3|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>mse5 <span class="ot">&lt;-</span> <span class="fu">mean</span>((<span class="fu">predict</span>(model5) <span class="sc">-</span> time)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb31-2"><a href="#cb31-2"></a>mse0 <span class="ot">&lt;-</span> <span class="fu">mean</span>((<span class="fu">mean</span>(time)<span class="sc">-</span>time )<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="dv">1</span><span class="sc">-</span>mse5<span class="sc">/</span>mse0</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9391766</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">summary</span>(model5)<span class="sc">$</span>r.squared</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9391766</code></pre>
</div>
</div>
</div>
</section>
<section id="evaluating-predictive-skill" class="slide level2">
<h2>Evaluating predictive skill</h2>
<p>To evaluate predictive skill, we can do the same thing by splitting the data into test and training sets:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35" data-code-line-numbers="|2|3,4|5|6|7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb35-2"><a href="#cb35-2"></a>test.ind <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">35</span>, <span class="dv">10</span>) <span class="co"># 10 test points</span></span>
<span id="cb35-3"><a href="#cb35-3"></a>hills.test <span class="ot">=</span> hills <span class="sc">|&gt;</span> <span class="fu">slice</span>(test.ind)</span>
<span id="cb35-4"><a href="#cb35-4"></a>hills.train <span class="ot">=</span> hills <span class="sc">|&gt;</span> <span class="fu">slice</span>(<span class="sc">-</span>test.ind)</span>
<span id="cb35-5"><a href="#cb35-5"></a>model3.train <span class="ot">&lt;-</span> <span class="fu">lm</span>(time<span class="sc">~</span>climb<span class="sc">+</span>dist, <span class="at">data=</span>hills.train)</span>
<span id="cb35-6"><a href="#cb35-6"></a>model3.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(model3.train, <span class="at">newdata=</span>hills.test <span class="sc">|&gt;</span> <span class="fu">select</span>(climb, dist))</span>
<span id="cb35-7"><a href="#cb35-7"></a><span class="fu">sum</span>((model3.pred<span class="sc">-</span><span class="fu">select</span>(hills.test, time))<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 102.0398</code></pre>
</div>
</div>
<div class="fragment">
<p>Exercise: compute the predictive MSE for a different model.</p>
<p>Repeat the process for different random splits into test and training data.</p>
</div>
</section>
<section id="statistical-significance" class="slide level2">
<h2>Statistical significance</h2>
<p>R also reports the statistical significance of each variable in the model</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">summary</span>(model5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = time ~ dist * climb, data = hills)

Residuals:
    Min      1Q  Median      3Q     Max 
-25.994  -4.968  -2.220   2.381  56.115 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  9.3954374  6.8790233   1.366  0.18183    
dist         4.1489201  0.8352489   4.967 2.36e-05 ***
climb       -0.0009710  0.0041648  -0.233  0.81718    
dist:climb   0.0009831  0.0003070   3.203  0.00314 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 12.92 on 31 degrees of freedom
Multiple R-squared:  0.9392,    Adjusted R-squared:  0.9333 
F-statistic: 159.6 on 3 and 31 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>The asterisks indicates whether the model including that variable is a significant improvement over the model not containing the variable.</p>
<div>
<ul>
<li class="fragment">The more asterisks, the more important the variable</li>
<li class="fragment">Interpretation of these terms is tricky</li>
<li class="fragment">If a higher order term is needed, the lower order terms should be included.</li>
</ul>
</div>
</section>
<section id="factors" class="slide level2">
<h2>Factors</h2>
<p>Factors are discrete variables, such as an ID, category (e.g ACORN type).</p>
<p>For example, consider the races up hills that contain the word ‘Ben’ in their name. Perhaps these are different to the other races?</p>
<div class="fragment">
<p>We could consider a model of the form</p>
<p><span class="math display">\[\mathtt{time} = \begin{cases} a+b\times\mathtt{dist}+c\times\mathtt{climb}+e\\
(a+d)+b\times\mathtt{dist}+c\times\mathtt{climb}+e
\end{cases}
\]</span></p>
<p><span class="math inline">\(d\)</span> here represents an additional intercept for the Ben races</p>
</div>
<div class="fragment">
<p>We can create a new dataset with an indicator variable, which is TRUE if the race name contains Ben, and FALSE otherwise:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>hills.ben <span class="ot">&lt;-</span> hills<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">ben=</span><span class="fu">sapply</span>(<span class="fu">rownames</span>(hills), <span class="cf">function</span>(x) <span class="fu">grepl</span>(<span class="st">'Ben'</span>,x)))</span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="fu">head</span>(hills.ben)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             dist climb   time   ben
Greenmantle   2.5   650 16.083 FALSE
Carnethy      6.0  2500 48.350 FALSE
Craig Dunain  6.0   900 33.650 FALSE
Ben Rha       7.5   800 45.600  TRUE
Ben Lomond    8.0  3070 62.267  TRUE
Goatfell      8.0  2866 73.217 FALSE</code></pre>
</div>
</div>
</div>
</section>
<section id="fitting-models-with-factors" class="slide level2">
<h2>Fitting models with factors</h2>
<p>To fit this model, we just include the new variable name in our model specification</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>model6 <span class="ot">&lt;-</span> <span class="fu">lm</span>(time <span class="sc">~</span> dist<span class="sc">+</span>climb<span class="sc">+</span>ben, <span class="at">data=</span>hills.ben)</span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="fu">summary</span>(model6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = time ~ dist + climb + ben, data = hills.ben)

Residuals:
    Min      1Q  Median      3Q     Max 
-15.672  -7.262  -1.353   2.311  65.104 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -8.972200   4.373674  -2.051   0.0488 *  
dist         6.201331   0.626073   9.905 4.02e-11 ***
climb        0.011184   0.002372   4.715 4.86e-05 ***
benTRUE     -0.997188   8.290884  -0.120   0.9050    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 14.91 on 31 degrees of freedom
Multiple R-squared:  0.9191,    Adjusted R-squared:  0.9113 
F-statistic: 117.4 on 3 and 31 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="fragment">
<p><strong>Exercise:</strong> Is this new model an improvement?</p>
</div>
</section>
<section id="saturated-model-with-random-effects" class="slide level2">
<h2>Saturated model with random effects</h2>
<p>We could fit a model with a factor for each race:</p>
<p><span class="math display">\[\mathtt{time}_i = a_i+e
\]</span> where <span class="math inline">\(i\)</span> indicates the race.</p>
<div class="columns">
<div class="column" style="width:55%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>hills.saturate <span class="ot">&lt;-</span> hills<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">race=</span><span class="fu">rownames</span>(hills))</span>
<span id="cb43-2"><a href="#cb43-2"></a>model7 <span class="ot">&lt;-</span> <span class="fu">lm</span>(time <span class="sc">~</span> race<span class="dv">-1</span>, <span class="at">data=</span>hills.saturate)</span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="fu">summary</span>(model7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = time ~ race - 1, data = hills.saturate)

Residuals:
ALL 35 residuals are 0: no residual degrees of freedom!

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)
raceAcmony              20.95        NaN     NaN      NaN
raceBen Lomond          62.27        NaN     NaN      NaN
raceBen Nevis           85.58        NaN     NaN      NaN
raceBen Rha             45.60        NaN     NaN      NaN
raceBens of Jura       204.62        NaN     NaN      NaN
raceBlack Hill          17.42        NaN     NaN      NaN
raceBurnswark           34.43        NaN     NaN      NaN
raceCairn Table         44.13        NaN     NaN      NaN
raceCairngorm           72.25        NaN     NaN      NaN
raceCairnpapple         36.37        NaN     NaN      NaN
raceCarnethy            48.35        NaN     NaN      NaN
raceCockleroi           28.10        NaN     NaN      NaN
raceCow Hill            17.93        NaN     NaN      NaN
raceCraig Dunain        33.65        NaN     NaN      NaN
raceCreag Beag          32.57        NaN     NaN      NaN
raceCreag Dubh          26.22        NaN     NaN      NaN
raceCriffel             50.50        NaN     NaN      NaN
raceDollar              43.05        NaN     NaN      NaN
raceEildon Two          26.93        NaN     NaN      NaN
raceGoatfell            73.22        NaN     NaN      NaN
raceGreenmantle         16.08        NaN     NaN      NaN
raceHalf Ben Nevis      47.63        NaN     NaN      NaN
raceKildcon Hill        15.95        NaN     NaN      NaN
raceKnock Hill          78.65        NaN     NaN      NaN
raceKnockfarrel         32.38        NaN     NaN      NaN
raceLairig Ghru        192.67        NaN     NaN      NaN
raceLargo Law           28.57        NaN     NaN      NaN
raceLomonds             65.00        NaN     NaN      NaN
raceMeall Ant-Suidhe    27.90        NaN     NaN      NaN
raceMoffat Chase       159.83        NaN     NaN      NaN
raceN Berwick Law       18.68        NaN     NaN      NaN
raceScolty              29.75        NaN     NaN      NaN
raceSeven Hills         98.42        NaN     NaN      NaN
raceTraprain            39.75        NaN     NaN      NaN
raceTwo Breweries      170.25        NaN     NaN      NaN

Residual standard error: NaN on 0 degrees of freedom
Multiple R-squared:      1, Adjusted R-squared:    NaN 
F-statistic:   NaN on 35 and 0 DF,  p-value: NA</code></pre>
</div>
</div>
</div><div class="column" style="width:45%;">
<ul>
<li class="fragment"><p>This model has an <span class="math inline">\(R^2\)</span> of 100%</p></li>
<li class="fragment"><p>it is perfect, it ‘explains’ all the variance in the data.</p></li>
<li class="fragment"><p><strong>Exercise:</strong> Is this model a good model?</p></li>
</ul>
</div>
</div>
<!--## Cross-validation? NO, do in second session.-->
<!--## Vector form? No - avoid. Decided-->
</section>
<section id="modelling-workflow" class="slide level2">
<h2>Modelling workflow</h2>
<div class="cell" data-reveal="true">
<div class="cell-output-display">
<div>
<p>
</p><pre class="mermaid" data-tooltip-selector="#mermaid-tooltip-1">flowchart LR
  A[Plot data] --&gt; C{Propose model}
  C --&gt; D[Fit model to data]
  D --&gt; E[Test + visualise model ]
  E --&gt; C
</pre>
<div id="mermaid-tooltip-1" class="mermaidTooltip">

</div>
<p></p>
</div>
</div>
</div>

<img src="damsl_logo_drop_black.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p>Simon Preston &amp; Richard Wilkinson 9/12/2022</p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="regression_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="regression_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="regression_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="regression_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="regression_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="regression_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="regression_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="regression_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="regression_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="regression_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="regression_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>